---

const { name, release_date, image, imageAlt, id  } = Astro.props

import { Image } from 'astro:assets';
import Imgs from '@data/imgs';

const albumURL = `https://open.spotify.com/album/${id}`;

---

<div class="album card">
    <h3 class="name">{ name }</h3>
    <div class="content">
        <div class="img-container">
            <Image
                src={image}
                alt={imageAlt}
                fit="cover"
                layout="full-width"
                inferSize
                {/* SEO */}
                itemtype="https://schema.org/image"
            />
        </div>
        <div class="bottom">
            <button onclick="window.alert('WIP - In development')" type="button">
                ▶︎
            </button>              

            {/* TODO: Make a button that can play the album */}
            <a href={albumURL} target="_blank" rel="noopener noreferrer">
                <Image 
                    src={Imgs.cdn.spotify}
                    alt="Spotify icon"
                    inferSize
                    itemtype="https://schema.org/image"
                />
            </a>
        </div>
        <span class="release">{release_date}</span>
    </div>
</div>


<style lang="scss" >
    .album {
        width: clamp(200px, 33%, 500px);

        h3 {
            text-align: center;
            font-size: clamp(1.5rem, 3vw, 2.5rem);
        }
        .content {
            background-color: var(--black-color);
            padding: 20px;

            .bottom {
                $scale: 48px;

                padding: 5px 10px 0 10px;
                display: inline-flex;
                width: 100%;
                justify-content: space-between;
                line-height: 0;

                button {
                    all: unset;
                    font-size: $scale;
                }

                a {
                    img {
                        filter: invert(1);
                        max-height: $scale;
                        max-width: $scale;
                    }
                }
            }

        }
    }
</style>